(this.webpackJsonpredd=this.webpackJsonpredd||[]).push([[0],{36:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(25),i=c.n(a),l=c(13),o=c(7),r=c.n(o),j=c(5),d=c(26),b=c(2),u=(c(36),c(27)),h=c.n(u),m=c(6),O=c(0);function f(e){var t=e.data,c=(t.permalink,t.thumbnail),s=t.title,n=t.ups,a=t.created_utc;return Object(O.jsx)("div",{className:"post",onClick:function(){e.onClick(!0)},children:Object(O.jsxs)("div",{children:[c.length>0&&"self"!==c&&"spoiler"!==c&&"default"!==c?Object(O.jsx)("img",{className:"img-fluid",src:c,alt:""}):"",Object(O.jsx)("p",{children:Object(m.a)(Object(m.a)(s))}),Object(O.jsxs)("div",{className:"ver",children:[Object(O.jsxs)("small",{children:[Object(O.jsx)("i",{className:"fa fa-caret-up"})," ",n]}),Object(O.jsx)("small",{className:"mr-2",children:String(new Date(1e3*a)).slice(0,16)})]})]})})}function g(e){var t=String(Object(m.a)(e.data.media_embed.content));return Object(O.jsx)("div",{className:"video col-lg-6",children:e.data.media_embed.content?Object(m.a)(t):""})}function x(e){var t=Object(s.useState)(!1),c=Object(b.a)(t,2),n=c[0],a=c[1],i=e.data,l=i.url,o=i.title;return Object(O.jsxs)("div",{className:"img",onClick:function(){e.onClick(e.id)},hidden:!n,children:[Object(O.jsx)("img",{className:"img-fluid",src:l,onLoad:function(){a(!0),e.onChange(!0)},onError:function(){a(!1),e.onChange(!1)},alt:o,hidden:!n}),Object(O.jsx)("p",{className:"desc",hidden:!n,children:o})]})}var p=c(30);function v(e){var t=Object(s.useState)(!1),c=Object(b.a)(t,2),n=c[0],a=c[1];return Object(s.useEffect)((function(){var t=function(t){"Enter"===t.key&&e.onChange(!0)};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[e.img]),Object(O.jsx)("div",{className:"max-image-zoom m-0",children:Object(O.jsx)("img",{src:e.img,width:"100%",onDoubleClick:function(){return a(!n)},onClick:function(){return e.onChange()},className:n?"ml-auto mr-auto scaled-img":"ml-auto mr-auto"})})}function N(e){var t=Object(s.useState)(!1),c=Object(b.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)(!1),l=Object(b.a)(i,2),o=l[0],r=l[1],j=Object(s.useState)(e.id),d=Object(b.a)(j,2),u=d[0],h=d[1],m=Object(s.useState)(e.imgs[u]),f=Object(b.a)(m,2),g=f[0],x=f[1];return Object(s.useEffect)((function(){x(e.imgs[u])}),[u]),Object(s.useEffect)((function(){var t=function(t){"ArrowRight"===t.key&&(a(!1),u+1<e.imgs.length?(console.log("right"),h(u+1)):u+1===e.imgs.length&&h(0)),"ArrowLeft"===t.key&&(a(!1),u-1>=0?(console.log("left"),h(u-1)):u-1===-1&&h(e.imgs.length-1)),"Enter"===t.key&&r(!0),"Escape"===t.key&&(r(!1),e.onEsc(!0)),console.log(t.key)};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[u]),Object(O.jsxs)("div",{className:"image-view",children:[Object(O.jsx)("button",{className:"close-btn",onClick:function(){e.onChange(!0)},children:Object(O.jsx)("i",{className:"fa fa-times"})}),Object(O.jsxs)("div",{className:"image-scroll-container",children:[Object(O.jsx)("img",{src:g.url,className:"img-fluid",onLoad:function(){a(!0)},onError:function(){alert("An error occurred trying to load the image "),a(!0)},onClick:function(){r(!0)},hidden:!n,alt:g.title}),n?"":Object(O.jsx)("div",{className:"fixed-loading-container",children:Object(O.jsx)(p.a,{animation:"border",variant:"light",role:"status"})})]}),Object(O.jsx)("div",{className:"caption-container",children:Object(O.jsxs)("p",{className:"caption",children:[g.title," ",Object(O.jsx)("a",{href:"https://reddit.com/"+g.permalink,target:"_blank",children:Object(O.jsx)("button",{className:"empty-btn ml-2",children:Object(O.jsx)("i",{className:"fa fa-external-link-alt"})})})]})}),Object(O.jsx)("button",{className:"count-btns prev",onClick:function(){return a(!1),void(u-1>=0?h(u-1):u-1===-1&&h(e.imgs.length-1))},children:Object(O.jsx)("i",{className:"fa fa-chevron-left"})}),Object(O.jsx)("button",{className:"count-btns next",onClick:function(){return a(!1),void(u+1<e.imgs.length?h(u+1):u+1===e.imgs.length&&h(0))},children:Object(O.jsx)("i",{className:"fa fa-chevron-right"})}),Object(O.jsx)("button",{className:"count",children:u+1+"/"+e.imgs.length}),o?Object(O.jsx)(v,{img:g.url,onChange:function(){r(!1)}}):""]})}function k(e){var t=Object(s.useState)(!1),c=Object(b.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)(e.id),l=Object(b.a)(i,2),o=l[0],r=l[1],j=Object(s.useState)(e.posts[o]),d=Object(b.a)(j,2),u=(d[0],d[1]);return Object(s.useEffect)((function(){u(e.posts[o])}),[o]),Object(O.jsxs)("div",{className:"post-view-container",children:[Object(O.jsx)("button",{className:"close-btn",onClick:function(){e.onClose(!0)},children:Object(O.jsx)("i",{className:"fa fa-times"})}),Object(O.jsxs)("div",{className:"inner",children:[e.posts[o].thumbnail.length>0&&"self"!==e.posts[o].thumbnail&&"spoiler"!==e.posts[o].thumbnail&&"default"!==e.posts[o].thumbnail?Object(O.jsx)("img",{className:"img-fluid mb-2",src:e.posts[o].thumbnail,alt:"",onLoad:function(){a(!0)},hidden:!n}):"",Object(O.jsx)("h3",{children:e.posts[o].title})]}),Object(O.jsx)("button",{className:"count",children:o+1+" / "+e.posts.length}),Object(O.jsx)("div",{className:"upvotes",children:Object(O.jsx)("a",{href:"https://reddit.com/"+e.posts[o].permalink,target:"_blank",children:Object(O.jsxs)("button",{children:[Object(O.jsx)("i",{className:"fa fa-caret-up mr-2"}),e.posts[o].ups]})})}),Object(O.jsx)("button",{className:"left-btn",onClick:function(){o-1>=0?r(o-1):o-1===-1&&r(e.posts.length-1)},children:Object(O.jsx)("i",{className:"fa fa-arrow-left"})}),Object(O.jsx)("button",{className:"right-btn",onClick:function(){o+1<e.posts.length?r(o+1):o+1===e.posts.length&&r(0)},children:Object(O.jsx)("i",{className:"fa fa-arrow-right"})})]})}var C=c(29),w=c.n(C);function S(e){return Object(O.jsxs)("div",{className:"notification",children:[Object(O.jsx)("button",{className:"close-btn",onClick:function(){e.onChange(e.id)},children:Object(O.jsx)("i",{className:"fa fa-times"})}),Object(O.jsx)("p",{children:e.msg})]})}var y=function(){var e,t=Object(s.useState)(!1),c=Object(b.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)(!1),o=Object(b.a)(i,2),u=o[0],m=o[1],p=Object(s.useState)(""),v=Object(b.a)(p,2),C=v[0],y=v[1],E=Object(s.useState)([]),_=Object(b.a)(E,2),L=_[0],A=_[1],I=Object(s.useState)(["showController","posts","images","videos"]),z=Object(b.a)(I,2),D=z[0],J=z[1],q=Object(s.useState)(0),H=Object(b.a)(q,2),R=H[0],B=H[1],G=Object(s.useState)(!1),K=Object(b.a)(G,2),M=K[0],P=K[1],U=Object(s.useState)(0),V=Object(b.a)(U,2),Y=V[0],F=V[1],Q=Object(s.useState)(!1),T=Object(b.a)(Q,2),W=T[0],X=T[1],Z=Object(s.useState)([]),$=Object(b.a)(Z,2),ee=$[0],te=$[1],ce=Object(s.useState)([]),se=Object(b.a)(ce,2),ne=se[0],ae=se[1],ie=Object(s.useState)([]),le=Object(b.a)(ie,2),oe=le[0],re=le[1],je=Object(s.useState)([]),de=Object(b.a)(je,2),be=de[0],ue=de[1],he=Object(s.useState)(0),me=Object(b.a)(he,2),Oe=me[0],fe=me[1],ge=Object(s.useState)(!1),xe=Object(b.a)(ge,2),pe=xe[0],ve=xe[1],Ne=function(){var e=Object(d.a)(r.a.mark((function e(t){var c,s,n,a,i,l,o,d,u,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=[],s=[],n=r.a.mark((function e(n){var a,i,l,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,e.prev=1,e.next=4,Promise.all([h.a.get("https://www.reddit.com/r/".concat(t[n],"/hot.json?limit=1000")).then((function(e){return e.data})).catch((function(e){e.response&&(s.push("r/".concat(t[n]," is ").concat(void 0===e.response.data.reason?"unavailable":e.response.data.reason)),a=!0)}))]);case 4:i=e.sent,l=Object(b.a)(i,1),(o=l[0]).data.children.map((function(e,t){c.push(e.data)})),(void 0==o.data.children||o.data.children.length<=0)&&(console.log("show error message",t[n]),Se(t[n])),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(a,"<<<<<<<<<<<<<added error"),!1===a&&s.push("r/".concat(t[n]," doesn't exist"));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})),e.t0=r.a.keys(t);case 4:if((e.t1=e.t0()).done){e.next=9;break}return a=e.t1.value,e.delegateYield(n(a),"t2",7);case 7:e.next=4;break;case 9:ue(s),i=[],l=[],o=[],c.forEach((function(e){"link"===e.post_hint&&(console.log(e.post_hint),i.push(e)),void 0===e.post_hint&&e.domain.length>0&&(console.log(e.post_hint),i.push(e)),"image"===e.post_hint&&(console.log(e.post_hint),l.push(e)),"rich:video"===e.post_hint&&o.push(e)})),d=i.sort((function(e,t){return t.ups-e.ups})),u=l.sort((function(e,t){return t.ups-e.ups})),m=o.sort((function(e,t){return t.ups-e.ups})),te(Object(j.a)(d)),ae(Object(j.a)(u)),re(Object(j.a)(m)),console.log(l),console.log(i.length,l.length,o.length);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ke(){if(C.length>0){try{e=void 0==(e=C.replace(/ /g,"").split(","))?[]:e}catch(c){var e=[]}var t=Object(j.a)(L);e.length>0&&e.forEach((function(e){!1===t.includes(e)&&t.push(e)})),A(t)}}function Ce(e){var t=Object(j.a)(D),c=t.indexOf(e);-1!==c&&(t.splice(c,1),J(t))}function we(e){var t=Object(j.a)(D);t.push(e),J(t)}function Se(e){var t=Object(j.a)(L),c=t.indexOf(e);-1!==c&&(t.splice(c,1),A(t))}return Object(s.useEffect)((function(){if(null!=localStorage.getItem("backup")&&0==u&&m(!0),n)localStorage.setItem("backup",JSON.stringify({bqueries:L,bfilters:D}));else{if(null!=localStorage.getItem("backup")){var e=JSON.parse(localStorage.getItem("backup"));e&&(A(e.bqueries),J(e.bfilters))}a(!0)}}),[L,D]),Object(s.useEffect)((function(){Ne(L),y("")}),[L]),Object(O.jsxs)("div",{className:M?"main":" main","data-theme":D.includes("dark")?"dark":"",children:[0===ee.length&&0===ne.length&&0===oe.length&&0===L.length?Object(O.jsxs)("div",{className:"filter-main-input text-center container",children:[Object(O.jsx)("h3",{className:"title",children:"Redd 2.0"}),Object(O.jsxs)("p",{children:["All your favorite subreddits organized and categorized",Object(O.jsx)("br",{})," Use ",Object(O.jsx)("code",{children:","})," commas to add multiple subreddits",Object(O.jsx)("br",{})," Example: ",Object(O.jsx)("code",{children:"news, movies, art "})]}),Object(O.jsx)("div",{className:"col-lg-6 ml-auto mr-auto",children:Object(O.jsxs)("form",{className:"search",onSubmit:function(e){e.preventDefault(),ke()},children:[Object(O.jsx)("input",{type:"text",placeholder:"Enter subreddit's",onChange:function(e){y(e.target.value)}}),Object(O.jsx)("button",{type:"submit",className:"mobile search-btn",children:Object(O.jsx)("i",{className:"fa fa-search"})})]})}),Object(O.jsx)("small",{children:"Keyboard option for image-view navigation"}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{className:"btn-key mt-2",children:Object(O.jsx)("i",{className:"fa fa-chevron-left"})}),"\xa0 \xa0 \xa0 \xa0",Object(O.jsx)("button",{className:"btn-key mt-2",children:"Enter"}),"\xa0 \xa0 \xa0 \xa0",Object(O.jsx)("button",{className:"btn-key mt-2",children:"Esc"}),"\xa0 \xa0 \xa0 \xa0",Object(O.jsx)("button",{className:"btn-key mt-2",children:Object(O.jsx)("i",{className:"fa fa-chevron-right"})})]}):"",Object(O.jsx)("div",{className:"posts-container",hidden:!(ee.length>0&&D.includes("posts")),children:Object(O.jsx)("div",{className:"ml-auto mr-auto inner",children:Object(O.jsx)("div",(e={className:""},Object(l.a)(e,"className","posts"),Object(l.a)(e,"children",ee.map((function(e,t){return Object(O.jsx)(f,{data:e,id:t,onClick:function(){fe(t),ve(!0)}},t)}))),e))})}),pe?Object(O.jsx)(k,{id:Oe,posts:ee,onClose:function(){ve(!1)}}):"",Object(O.jsx)("div",{className:"images-container",hidden:!(ne.length>0&&D.includes("images")),children:Object(O.jsxs)("div",{className:"col-lg-11 ml-auto mr-auto mt-4 mb-5",children:[Object(O.jsx)("h2",{className:"title",children:"Images"}),Object(O.jsx)("div",{className:"images p-0",children:ne.map((function(e,t){return Object(O.jsx)(x,{onChange:function(e){e?F(Y+1):X(!0)},data:e,id:t,onClick:function(){B(t),P(!0)}},t)}))}),Object(O.jsx)("div",{className:"text-center mt-2 p-0",children:Y===ne.length&&Y>0?Object(O.jsxs)("button",{className:"loaded",disabled:!0,children:["All images Loaded",W?" but Had some trouble getting some images":""]}):Object(O.jsxs)("button",{className:"loader",disabled:!0,children:[Object(O.jsx)(w.a,{className:"mr-3",color:D.includes("dark")?"#fff":"#ff4500",size:8})," ","Loading High resolution images"]})})]})}),M?Object(O.jsx)(N,{id:R,imgs:ne,onChange:function(){P(!1)},onEsc:function(){P(!1),Ce("images")}}):"",Object(O.jsx)("div",{className:" videos-container",hidden:!(oe.length>0&&D.includes("videos")),children:Object(O.jsxs)("div",{className:"videos row col-lg-11 ml-auto mr-auto",children:[Object(O.jsx)("div",{className:"col-lg-12",children:Object(O.jsx)("h2",{className:"title",children:"Videos & Gifs"})}),oe.map((function(e,t){return Object(O.jsx)(g,{data:e},t)}))]})}),L.length>0||ne.length>0||oe.length>0||ee.length>0||be.length>0?Object(O.jsx)("div",{className:"filter-controller-show-btn",hidden:D.includes("showController"),children:Object(O.jsx)("button",{onClick:function(){D.includes("showController")?Ce("showController"):we("showController")},children:Object(O.jsx)("i",{className:"fa fa-chevron-left"})})}):"",Object(O.jsxs)("div",{className:D.includes("showController")&&L.length>0?"filter-controller showing":"filter-controller hiding",children:[D.includes("search")?Object(O.jsxs)("div",{children:[Object(O.jsxs)("form",{className:"search mb-2",onSubmit:function(e){e.preventDefault(),ke()},children:[Object(O.jsx)("input",{type:"text",placeholder:"Enter subreddit's",onChange:function(e){y(e.target.value)},value:C}),Object(O.jsx)("button",{type:"submit",className:" search-btn",children:Object(O.jsx)("i",{className:"fa fa-search"})})]}),Object(O.jsxs)("div",{className:"sub-reddits row m-0",hidden:!(L.length>0),children:[L.map((function(e,t){return Object(O.jsx)("button",{className:"sub-reddit",value:e,onClick:function(e){Se(e.target.value)},children:e},t)})),L.length>2?Object(O.jsx)("button",{onClick:function(){A([])},className:"clear-btn",children:"Clear All"}):""]})]}):"",Object(O.jsxs)("div",{className:"filter-btns",children:[Object(O.jsx)("button",{id:"btpos",className:"toggle bt bt-sec ".concat(D.includes("search")?"active":""),onClick:function(){D.includes("search")?Ce("search"):we("search")},children:Object(O.jsx)("i",{className:"fa fa-search"})}),ee.length>0?Object(O.jsxs)("button",{id:"btpos",className:"toggle bt bt-sec ".concat(D.includes("posts")?"active":""),onClick:function(){D.includes("posts")?Ce("posts"):we("posts")},children:[Object(O.jsx)("i",{className:"fa fa-rainbow"}),Object(O.jsx)("span",{className:"badge",children:ee.length})]}):"",ne.length>0?Object(O.jsxs)("button",{id:"btpos",className:"toggle bt bt-sec ".concat(D.includes("images")?"active":""),onClick:function(){D.includes("images")?Ce("images"):we("images")},children:[Object(O.jsx)("i",{className:"fa fa-image"}),Object(O.jsx)("span",{className:"badge",children:ne.length})]}):"",oe.length>0?Object(O.jsxs)("button",{id:"btpos",className:"toggle bt bt-sec ".concat(D.includes("videos")?"active":""),onClick:function(){D.includes("videos")?Ce("videos"):we("videos")},children:[Object(O.jsx)("i",{className:"fa fa-video"}),Object(O.jsx)("span",{className:"badge",children:oe.length})]}):"",Object(O.jsx)("button",{id:"btpos",className:"toggle bt bt-sec ".concat(D.includes("dark")?"active":""),onClick:function(){D.includes("dark")?Ce("dark"):we("dark")},children:D.includes("dark")?Object(O.jsx)("i",{className:"fa fa-sun"}):Object(O.jsx)("i",{className:"fa fa-moon"})}),Object(O.jsx)("button",{id:"btpos",className:"toggle bt bt-sec ".concat(D.includes("showController")?"active":""),onClick:function(){D.includes("showController")?Ce("showController"):we("showController")},children:Object(O.jsx)("i",{className:"fa fa-chevron-right"})})]})]}),be.length>0?Object(O.jsx)("div",{className:"notifications",children:be.map((function(e,t){return Object(O.jsx)(S,{msg:e,id:t,onChange:function(e){var c=Object(j.a)(be);c.splice(t,1),ue(c)}},t)}))}):"",0===ee.length&&0===ne.length&&0===oe.length&&0===L.length?Object(O.jsx)("footer",{children:Object(O.jsx)("div",{className:"container top",children:Object(O.jsxs)("div",{className:"row ml-3 mr-3",children:[Object(O.jsx)("p",{className:"mr-auto",children:"\xa9 2021 by Alohe"}),Object(O.jsxs)("div",{className:"row m-0 social-icons",children:[Object(O.jsx)("a",{href:"https://twitter.com/alemalohe",target:"_blank",children:Object(O.jsx)("button",{children:Object(O.jsx)("i",{className:"fab fa-twitter"})})}),Object(O.jsx)("a",{href:"https://t.me/alemalohe",target:"_blank",children:Object(O.jsx)("button",{children:Object(O.jsx)("i",{className:"fab fa-telegram"})})})]})]})})}):""]})};i.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(y,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.6a31215e.chunk.js.map